{% extends 'index.html' %}
{% block header %}
    <h1>Create your own game!</h1>
{% endblock %}

{% block body %}
    <div class="panel-body col-sm-7">
        <div>
            <input type="hidden" name="rate"/>
            <form method="post" action="{% url 'comment' %}">
                <div class="form-group" id="rating">
                    <label for="rating">Rating</label>
                </div>
                <input type="hidden" name="game" id="game-id">
                <input type="hidden" name="user" value="1">
                <div class="form-group">
                    <label for="comment-input">Comment</label>
                    <input type="text" class="form-control" name="text" id="comment-input">
                </div>
                <button type="submit" class="btn btn-primary">Send!</button>

            </form>
        </div>

        <form action="{% url 'create_game' %}" method="post">
            <div class="form-group">
                <label for="game-name">Name</label>
                <input type="text" class="form-control" id="game-name" name="name" placeholder="Game Name">
            </div>
            <div class="form-group">
                <label for="max-score">Max Score</label>
                <input type="text" class="form-control" id="max-score" name="max_score" placeholder="Max Score">
            </div>
            <div class="form-group">
                <label for="hold">Hold</label>
                <input type="text" class="form-control" id="hold" name="hold" placeholder="Hold">
                <small id="hold-help" class="form-text text-muted">Single number or comma separated numbers.(Between 1
                    and 6)
                </small>
            </div>
            <div class="form-group">
                <label for="max-roll">Max Roll</label>
                <input type="text" class="form-control" id="max-roll" name="max_roll" placeholder="Max Roll">
            </div>
            <div class="form-check">
                <div class="col-sm-3">
                    <input class="form-check-input" type="radio" name="dice_count" id="number-of-dice" value="1">
                    <label class="form-check-label" for="number-of-dice">
                        1
                    </label>
                </div>
                <div class="col-sm-3">
                    <input class="form-check-input" type="radio" name="dice_count" id="number-of-dice" value="2">
                    <label class="form-check-label" for="number-of-dice">
                        2
                    </label>
                </div>
                <div class="col-sm-3">
                    <input class="form-check-input" type="radio" name="dice_count" id="number-of-dice" value="3">
                    <label class="form-check-label" for="number-of-dice">
                        3
                    </label>
                </div>
                <div class="col-sm-3">
                    <input class="form-check-input" type="radio" name="dice_count" id="number-of-dice" value="4">
                    <label class="form-check-label" for="number-of-dice">
                        4
                    </label>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
{% endblock body %}

{% block script %}
    <script type="text/javascript">
        $(document).ready(function () {
            const urlParams = new URLSearchParams(window.location.search);
            const game_id = urlParams.get('id');
            $('#game-id').val(game_id)
        })
        $("#rating").emojiRating({
            fontSize: 32,
            emoji: 'poo',
            inputName: 'rate',
            onUpdate: function (count) {

            }
        });
    </script>
{% endblock %}